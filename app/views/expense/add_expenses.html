<div class="container sign-up-container">
  <h3 style="text-align:center;"><img src="images/add_expense.png" width="90px"> ADD EXPENSES</h3>
  <br/>
  <form class="form-horizontal" role="form" ng-submit="submit()" ng-show="loading == false">
    <div class="form-group">
      <label class="control-label col-sm-2" for="name">Name:</label>
      <div class="col-sm-4">
        <input type="text" class="form-control" id="name" placeholder="Expense name" ng-model="commonExpense.name" required >
      </div>
      <label class="control-label col-sm-2" for="amount">Currency:</label>
      <div class="col-sm-4">
        <select type="string" class="form-control" id="currency" placeholder="Currency" ng-model="commonExpense.currency" required>
          <option ng-repeat="currency in availableCurrencies" value="{{currency}}" required>{{currency}}</option>
        </select>
      </div>
    </div>
    <div class="form-group">
      <label class="control-label col-sm-2" for="category">Category:</label>
      <div class="col-sm-4">
        <select type="date" class="form-control" id="category" placeholder="Category" ng-model="commonExpense.category.name" ng-required="true">
          <option ng-repeat="category in categories" value="{{category}}" required>{{category}}</option>
        </select>
      </div>
      <div class="col-sm-4">
        <input type="text" class="form-control" placeholder="New category" ng-model="newCategory">
      </div>
      <div class="col-sm-2">
        <button type="button" class="btn btn-default" style="width: 100%;" ng-click="addCategory()" title="Add new category">
          <span class="glyphicon glyphicon-plus"></span> Add
        </button>
      </div>
    </div>
    <div class="form-group">
      <label class="control-label col-sm-2" for="description">Description:</label>
      <div class="col-sm-10">
        <textarea type="text" rows="5"  class="form-control" id="description" placeholder="Description ..." ng-model="commonExpense.description"></textarea>
      </div>
    </div>
    <div ng-repeat="expense in expensesArray">
      <div class="form-group bordered-info" style="margin-left: 2px; margin-right: 2px">
        <label class="control-label col-sm-2" for="amount">Amount:</label>
        <div class="col-sm-4">
          <input type="number" step="any" class="form-control" id="amount" placeholder="Expense amount" ng-model="expense.amount" required >
        </div>
        <label class="control-label col-sm-2" for="date1">Creation date:</label>
        <div class="col-md-4">
          <p class="input-group">
            <input type="text" id="date1" class="form-control" uib-datepicker-popup="{{format}}"
                   ng-model="expense.creationDate" is-open="datePopup[$index].opened" datepicker-options="dateOptions" ng-required="true" close-text="Close" alt-input-formats="altInputFormats" />
            <span class="input-group-btn">
              <button type="button" class="btn btn-default" ng-click="openDatePicker($index)"><i class="glyphicon glyphicon-calendar"></i></button>
            </span>
          </p>
        </div>
      </div>
    </div>
    <div class="form-group">
      <div class="col-md-4"></div>
      <div class="col-md-4 text-center">
        <button type="button" class="btn btn-success" style="width: 50%;"
                ng-click="addAnotherExpense()" title="Add another expense">
          <span class="glyphicon glyphicon-plus"></span>
        </button>
      </div>
      <div class="col-md-4"></div>
    </div>
    <div class="form-group" style="margin-top: 20px;">
      <div class="col-sm-offset-2 col-sm-3">
        <button type="submit" class="btn accountant-btn"><span class="glyphicon glyphicon-plus"></span> Add all expenses</button>
      </div>
      <div class="col-sm-7"></div>
    </div>
  </form>
  <loading-page width="150px" message="Processing ..." ng-show="loading == true"></loading-page>
</div>
